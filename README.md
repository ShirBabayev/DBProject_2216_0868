# Customer-Service-Department-Winery.
מיני פרוייקט בבסיסי נתונים


נושא: יקב
תת נושא: שירות לקוחות ביקב


מגישות: שיר באבאייב
214242216
ורננה חורי
326320868




תשפ"ה 2025







מחלקת שירות לקוחות ביקב 
תיאור המחלקה:
המערכת מיועדת לנהל את כל המידע הקשור לשירות הלקוחות של היקב, תוך כדי שמירה על יעילות ואיכות השירות. היא מקיפה את כל המידע הנדרש לעיבוד הזמנות, תלונות, משלוחים, ומעקב אחר הלקוחות והעובדים.
הישויות המרכזיות במערכת:
1.	לקוח: מערכת זו שומרת את פרטי הלקוח, כולל שם, כתובת, פרטי קשר, וסוג הלקוח (כמו לקוח פרטי או עסקי). המידע הזה חיוני למעקב אחר כל לקוח והזמנותיו.
2.	מוצר: כולל את המידע על המוצרים שנמכרים, כלומר יינות שונים המיוצרים על ידי היקב, פרטי המוצר כמו שם, סוג יין, שנת ייצור, ומחיר.
3.	עובד: כל עובד המועסק בשירות הלקוחות של היקב, כולל שם, תפקיד, דוא"ל וטלפון. המידע הזה חשוב למעקב אחר העובדים המטפלים בתלונות ובשירות לקוחות.
4.	תלונה: כל תלונה שמגיש לקוח בנוגע לשירות או למוצר, כולל תאריך הגשת התלונה, תיאור הבעיה, סטטוס התלונה ותאריך פתרונה, וכן המידע על הלקוח והעובד המטפל בתלונה. כל תלונה מתועדת ומנוהלת כדי לשמור על רמת שירות גבוהה.
5.	הזמנה: כל הזמנה שמבצע לקוח, כולל תאריך ההזמנה, סטטוס ההזמנה, סך הסכום הכולל של ההזמנה, אמצעי התשלום, ומידע על המוצר המוזמן, הלקוח, המשלוח ואפשרות לקישור לתלונה (אם קיימת). המידע הזה מאפשר לעקוב אחרי כל הזמנה ולהבטיח שהלקוחות יקבלו את המוצרים באופן תקין ובזמן.
6.	משלוח: מידע על המשלוחים, כולל שם חברת השילוח, תאריך היציאה והגעת המשלוח הצפוי, והסטטוס הנוכחי של המשלוח. זהו כלי חשוב לניהול ההפצה של המוצרים.
הפונקציות העיקריות של המערכת:
•	ניהול הזמנות: המערכת מאפשרת לקבל ולעבד הזמנות מלקוחות, לעקוב אחרי הסטטוס של כל הזמנה, ולבצע תשלום ושילוח.
•	טיפול בתלונות: המערכת מאפשרת לנהל את התלונות שמוגשות על ידי הלקוחות, לעקוב אחרי סטטוס התלונה, ולוודא כי כל תלונה מקבלת מענה הולם ופתרון בזמן.
•	ניהול משלוחים: המערכת מאפשרת לעקוב אחרי מצב המשלוח ולוודא שהלקוחות מקבלים את המוצרים במועד שנקבע.
המערכת מבוססת על רישום ושימור מידע אודות כל הפעולות שביצע הלקוח, תלונותיו, הזמנותיו, תשלומים, ושירותי המשלוח, כדי לשפר את איכות השירות ולהגביר את שביעות רצון הלקוחות.


שאילתות SELECT:
•	שאילתא מס' 1:
מה עושה השאילתא:
רותי, מנהלת שירות לקוחות, בודקת מי מהעובדים היה הכי עמוס בתלונות בחודש האביב. השאילתא מחזירה רשימת לקוחות שהתלוננו בחודש מרץ, מי טיפל בהם ומה הייתה התלונה.
צילום מסך של תוכן השאילתא:
 
הצגת כמה שורות מהרשומות של התוצאה:
 


•	שאילתא מס' 2:
מה עושה השאילתא:
איש שיווק מחפש מהו סוג היין המוביל כדי לבנות קמפיין פרסום. השאילתא מציגה את סוגי היין שהוזמנו הכי הרבה ומה ההכנסה הכוללת מכל סוג.
צילום מסך של תוכן השאילתא:
 
הצגת כמה שורות מהרשומות של התוצאה:
 


•	שאילתא מס' 3:
מה עושה השאילתא:
המנהלת מעוניינת לזהות עובדים שטיפלו בתלונה בתוך פחות משבעה ימים מרגע פתיחתה, כדי להזמינם לטיול. השאילתה תחזיר את פרטי התלונות שטופלו בפרק זמן קצר זה, כולל שם העובד שטיפל בהן.
צילום מסך של תוכן השאילתא:
 
הצגת כמה שורות מהרשומות של התוצאה:
 


•	שאילתא מס' 4:
מה עושה השאילתא:
הנהלת החשבונות בודקת אם כדאי לעודד לקוחות לשלם באשראי או בהעברה. השאילתא מחזירה איזה אמצעי תשלום מביא את העסקאות הגדולות ביותר.
צילום מסך של תוכן השאילתא:
 
הצגת כמה שורות מהרשומות של התוצאה:
 


•	שאילתא מס' 5:
מה עושה השאילתא:
אלעד בודק האם יש בעיה עם חברת השילוח לפני שמחליפים אותה. השאילתא מחזירה את ההזמנות שבהן הייתה תלונה + משלוח שעדיין לא הגיע למרות שעבר הזמן המשוער.
צילום מסך של תוכן השאילתא:
 
הצגת כמה שורות מהרשומות של התוצאה:
 


•	שאילתא מס' 6:
מה עושה השאילתא:
צוות ניהול בודק באיזה חודשים יש יותר פעילות כדי להיערך לעונות שיא. השאילתא מחזירה דוח חודשי של מכירות לשנה האחרונה לפי חודש.
צילום מסך של תוכן השאילתא:
 
הצגת כמה שורות מהרשומות של התוצאה:
 

•	שאילתא מס' 7:
מה עושה השאילתא:
החברה רוצה לפנק את הלקוחות הטובים במארז מתנה. השאילתא מחזירה לקוחות שהוציאו בסכום הקניות שלהם מעל הממוצע.
צילום מסך של תוכן השאילתא:
 
הצגת כמה שורות מהרשומות של התוצאה:
 


•	שאילתא מס' 8:
מה עושה השאילתא:
ראש הצוות רוצה לבדוק אם יש בעיית שירות אצל חלק מהעובדים. השאילתא מחזירה מיהם חמשת העובדים שקיבלו הכי הרבה תלונות – אולי צריכים הדרכה נוספת.
צילום מסך של תוכן השאילתא:
 
הצגת כמה שורות מהרשומות של התוצאה:
 


שאילתות UPDATE:
•	שאילתא מס' 9:
מה עושה השאילתא:
העדכון משנה את הסטטוס של כל התלונות שטרם נסגרו (הסטטוס שלהן אינו Closed)  והיו פתוחות במשך יותר מ־120 ימים, ל־Overdue. - לא מטופלות ומאוחרות.
צילום מסך של תוכן השאילתא:
 
צילום בסיס הנתונים לפני ואחרי העדכון:
לפני: 
 
אחרי: (השינויים מופיעים בהמשך)
 


•	שאילתא מס' 10:
מה עושה השאילתא:
השאילתה מעדכנת את המחיר של כל המוצרים שיוצרו לפני יותר מ־5 שנים, ומגדילה את המחיר ב־10%.
צילום מסך של תוכן השאילתא:
 
צילום בסיס הנתונים לפני ואחרי העדכון:
לפני: 
 
אחרי: 
 

•	שאילתא מס' 11:
מה עושה השאילתא:
השאילתה מעדכנת את המשלוחים שלא נמסרו ועדיין לא הגיעו, ומסמנת אותם כמתעכבות -.DELAYED  
צילום מסך של תוכן השאילתא:
 
צילום בסיס הנתונים לפני ואחרי העדכון:
לפני: 
 
אחרי: 
 

שאילתות DELETE:
•	שאילתא מס' 12:
מה עושה השאילתא:
מחיקת תלונות לא רלוונטיות (ישנות וסגורות – שנסגרו לפני לפחות 3 חודשים) התלונות הסגורות יימחקו מהטבלה Complaint, רק אם לא מקושרות להזמנות
צילום מסך של תוכן השאילתא:
 
צילום בסיס הנתונים לפני ואחרי העדכון:
לפני: 
 
אחרי: (במקרה שלנו, נמחקו רק 3 רשומות אז לא רואים את המחיקה בבירור, כמובן שבמקרה רגיל יהיו המון תלונות שלא מקושרות אל הזמנות דווקא אלא גם לאנשי צוות, לשירות, לבעיות אישיות וכו')
 



•	שאילתא מס' 13:
מה עושה השאילתא:
מנהל מחלקת השיווק ביקש לנקות את בסיס הנתונים מלקוחות "רפאים" – כאלה שנרשמו פעם, אבל לא רכשו ולא התלוננו. השאילתא מוחקת את כל הלקוחות שמעולם לא ביצעו הזמנה וגם לא פנו לשירות הלקוחות בתלונה.

צילום מסך של תוכן השאילתא:
 
צילום בסיס הנתונים לפני ואחרי העדכון:
לפני: 
 
אחרי: 
 


•	שאילתא מס' 14:
מה עושה השאילתא:
היקב מנהל קטלוג מוצרים. ישנם מוצרים שמעולם לא נמכרו, יתכן שהם הוזנו בטעות, או שלא זכו להתעניינות הלקוחות. אחת לשנה, הוא עובר על קטלוג המוצרים ומאתר מוצרים זולים (עד 100 ש"ח) שמעולם לא נמכרו.
מוצרים אלו, שלרוב שייכים למבצעים מיוחדים או סדרות ניסיוניות, נתרמים לעמותות צדקה מקומיות במקום להישאר ללא שימוש.
לאחר התרומה, הם מוסרים ממערכת הניהול כדי לשמור על קטלוג נקי ומעודכן.
צילום מסך של תוכן השאילתא:
 
צילום בסיס הנתונים לפני ואחרי העדכון:
לפני: 
 
אחרי: 
 










ביצוע פעולת commit:
 
ואז הכנסנו מוצר חדש:
 

השינוי בטבלה:
לפני:  
אחרי:
 

לאחר הrollback:

 
כאן נראה שהרשומה 502 לא נמצאה:
 





אילוצים:
1.	האילוץ מונע הכנסת הזמנה עם סכום כולל קטן או שווה לאפס:
 

ניסיון הכנסת רשומה שלא עומדת באילוץ:
 


2.	האילוץ נותן ערך ברירת מחדל לסטטוס המשלוח במקרה שלא הוכנס ערך.
 

ניסיון הכנסת רשומת משלוח ללא ערך בסטטוס:
 
השינוי שנעשה:
 

3.	האילוץ מלא מאפשר שני ערכים זהים בעמודה של מס' הטלפון של עובד שירות לקוחות. כי אין שני עובדים עם אותו מספר.
 
צילום ניסיון הכנסת עובד חדש עם מס' טלפון זהה למס' של עובד קיים:
 



